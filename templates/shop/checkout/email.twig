{% if currentUser %}
  {% redirect 'shop/checkout/payment' %}
{% endif %}

{% extends 'shop/_private/layouts' %}

{% block main %}
{% if cart.totalPrice == 0 %}

  <!-- Template: {{ _self }}.twig -->
  <h1 class="text-xl font-bold">
    {{- 'Enter your email to get started'|t -}}
  </h1>

  <div class="flex -mx-8 mt-6">
    <div class="w-full max-w-xl px-8">
      <form method="post" action="">
        {{ csrfInput() }}
        {{ actionInput('commerce/cart/update-cart') }}
        {{ redirectInput('shop/checkout/register-signin') }}
        {{ successMessageInput('Email address updated.') }}

        <div class="field">
          {{ input('text', 'email', cart.email, {
            id: 'email',
            placeholder: 'email@site.com',
            class: ['w-full', 'border border-gray-300 hover:border-gray-500 px-4 py-2 leading-tight rounded']
          }) }}
        </div>

        <div class="mt-3">
          {{ tag('button', {
            type: 'submit',
            class: 'cursor-pointer rounded px-4 py-2 mt-2 mb-12 inline-block bg-[#006B36] hover:bg-[#006B36] text-white hover:text-white',
            text: 'Continue'|t
          }) }}
        </div>
      </form>
    </div>
  </div>

{% endif %}

{% endblock %}
